<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>PMT CARRERA 14 RENOVACION REDES SOGAMOSO</title>
</head>
<body>

  <h1>¡Bienvenidos al sitio!</h1>
  <p>
    Este es el sitio del plan de manejo de tránsito, cierres y desvíos de las obras de renovación de redes.  
    <br>
    <strong>CONTRATO No.40 de 2025</strong>  
    <br>
    <strong>OBJETO DEL CONTRATO:</strong> Renovación de redes de alcantarillado método convencional y acueducto por el método Pipe Bursting en la Carrera 14 entre Calles 11 y Transversal 17 del municipio de Sogamoso.
  </p>

  <!-- Botón para abrir el mapa en una nueva pestaña -->
  <button onclick="window.open(getMapaActual(), '_blank')">Ver Mapa en otra pestaña</button>

  <!-- Botón para mostrar el mapa en la misma página -->
  <button onclick="mostrarMapa()">Ver Mapa aquí</button>

  <!-- Contenedor del mapa (inicialmente oculto) -->
  <div id="mapaContainer" style="display: none; margin-top: 20px;">
    <iframe id="mapaFrame" width="100%" height="500px" style="border: none;"></iframe>
  </div>

  <script>
    // Función para calcular el mapa según la fecha actual
    function getMapaActual() {
        let fechaInicio = new Date(2025, 2, 31); // 31 de marzo de 2025 (mes en JS es 0-based, 2=marzo)
        let hoy = new Date();
        let diasTranscurridos = Math.floor((hoy - fechaInicio) / (1000 * 60 * 60 * 24));
        let numeroMapa = Math.min(16, Math.floor(diasTranscurridos / 14) + 1); // Cada 14 días cambia
        return `mapa_desvios${numeroMapa}.html`;
    }

    // Función para mostrar el mapa en la misma página
    function mostrarMapa() {
        let mapaSrc = getMapaActual();
        document.getElementById("mapaFrame").src = mapaSrc;
        document.getElementById("mapaContainer").style.display = "block";
    }
  </script>

</body>
</html>

